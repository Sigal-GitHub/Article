## Nginx 介绍

> Nginx是异步框架的web 服务器，也可以用作反向代理、负载均衡以及作为缓存服务器。Nginx 是目前互联
网公司web 服务器的主流技术，用于处理高并发甚至海量并发的网站数据。Nginx 具有社区版和商业版，社区
版是完全开源的，Tengine 就是淘宝在Nginx 基础上进行二次开发，以获取更高的稳定性和并发能力，已经在
淘宝、天猫等海量数据的电商网站上经过了“双十-”的技术洗礼，足以证明其稳定性和高性能。

## Nginx 特性

- 高并发、高性能一台普通的服务器可以轻松处理上万并发连接，一般单台服务器最多建议处理三万左右的并发
I
- 模块化设计基于模块化设计，具有非常好的扩展性，可以通过加载、卸载某个模块(注意:模块动态加载在Nginx v1.9.11 版本之后才支持)以实现相应的功能
- 热部署、热更新Nginx支持配置文件的热更新，版本热升级、动态加载模块、日志热更换
- 内存低消耗据统计在10000个keep-alive连接模式下的非活动连接，仅消耗内存2.5M
- 配置、维护简单Nginx 的配置非常简单，对于运维同学非常友好

## Nginx 基本功能

- Web服务器这是[ Nginx 最基本的功能，也是非常重要的功能之一
- 反向代理服务器同样， Nginx 可以作为| http 协议的反向代理服务器，也是生产环境中最常用的功能之一
- FastccI (php)、uWSGI (python) 代理服务器生产环境上经常使用Nginx作为客户端请求后端应用服务(注意:此时Nginx 在用户看 来依然是反向代理服务器，只不过这里代理的请求不再是| http协议，而是跟后端服务相关的协议，比如后端如果是php语言开发的，则是FastCGI 协议代理)
- TCP/UDP 代理服务器，也即“调度器”生产环境中，在一些并发量不大的情况下，有时候也会使用 Nginx 作为四层调度器
- Mail 邮件代理服务器可以作为邮件代理服务器，几乎不使用


## Nginx 基础架构

如下图，Nginx 为`master/workers`结构，一个`master`主进程,负责管理和维护多个`worker`进程，真正接收并处理用户请求的其实是`worker`进程，`master`不对用户请求进行处理。即`master`主进程负责分析并加载配置文件，管理`worker`进程，接收用户信号传递以及平滑升级等功能。

另外，`Nginx`具有强大的缓存功能，其中`Cache Loader`负责载入缓存对象，`Cache Manager`负责管理缓存对象。


![20201228175952](http://pic.sigalx.com/pic/20201228175952.png)
